import{_ as p,c as r,a as n,d as a,b as e,w as c,e as o,r as i,o as u}from"./app-YEeKhUZS.js";const d={},h={id:"entities",tabindex:"-1"},g={class:"header-anchor",href:"#entities"},k={id:"wait-until-1",tabindex:"-1"},f={class:"header-anchor",href:"#wait-until-1"};function m(y,t){const s=i("Badge"),l=i("RouteLink");return u(),r("div",null,[t[6]||(t[6]=n("h1",{id:"wait-until",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#wait-until"},[n("span",null,"Wait Until")])],-1)),t[7]||(t[7]=n("p",null,"The Wait Until node waits for a specific condition to be met or for a timeout to occur before passing on the last received message. This node is useful for pausing the flow of automation until certain criteria are met, such as waiting for a door to close before turning off the lights.",-1)),t[8]||(t[8]=n("h2",{id:"configuration",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#configuration"},[n("span",null,"Configuration")])],-1)),n("h3",h,[n("a",g,[n("span",null,[t[0]||(t[0]=a("Entities ")),e(s,{text:"required"})])])]),n("ul",null,[t[4]||(t[4]=n("li",null,[a("Type: "),n("code",null,"string")],-1)),n("li",null,[t[2]||(t[2]=a("Accepts ")),e(l,{to:"/guide/mustache-templates.html"},{default:c(()=>t[1]||(t[1]=[a("Mustache Templates")])),_:1}),t[3]||(t[3]=a(" only for entity type"))])]),t[9]||(t[9]=o('<p>A list of entities to wait for the condition to be met. The node will wait for any of the entities to meet the condition. If the entity is not found it will be ignored.</p><p>The types that can be used are: entity id, substring, and regex.</p><h4 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h4><ul><li><code>light.living_room</code> - Will wait for the entity with the id <code>light.living_room</code></li><li><code>motion</code> - Will wait for any entity that has <code>motion</code> in the entity id</li><li><code>^light\\..*</code> - Will wait for any entity that starts with <code>light.</code></li></ul>',4)),n("h3",k,[n("a",f,[n("span",null,[t[5]||(t[5]=a("Wait Until ")),e(s,{text:"required"})])])]),t[10]||(t[10]=o(`<ul><li>Type: <code>string</code></li></ul><p>The <code>property</code> field will be checked against the <code>value</code> field using the comparator.</p><h3 id="timeout" tabindex="-1"><a class="header-anchor" href="#timeout"><span>Timeout</span></a></h3><ul><li>Type: <code>number</code></li></ul><p>The amount of time to wait for the condition to become true before deactivating the node and passing the message object to the second output. If the timeout is equal to zero the node will wait indefinitely for the condition to be met.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If using a Node-RED global or flow context variable in the timeout field it will not update the timeout value if the context value changes after the node has been deployed.</p></div><h3 id="check-against-the-current-state" tabindex="-1"><a class="header-anchor" href="#check-against-the-current-state"><span>Check against the current state</span></a></h3><ul><li>Type: <code>boolean</code></li></ul><p>When an input is received it will check the comparator against the current state instead of waiting for a state change.</p><div class="hint-container tip"><p class="hint-container-title">INFO</p><p>This is only available when there is only one entity selected</p></div><h2 id="input" tabindex="-1"><a class="header-anchor" href="#input"><span>Input</span></a></h2><h3 id="reset" tabindex="-1"><a class="header-anchor" href="#reset"><span>reset</span></a></h3><p>If the received message has this property set to any value the node will be set to inactive and the timeout cleared.</p><h3 id="payload" tabindex="-1"><a class="header-anchor" href="#payload"><span>payload</span></a></h3><ul><li>Type: <code>object</code></li></ul><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h3><h3 id="full-payload" tabindex="-1"><a class="header-anchor" href="#full-payload"><span>Full Payload</span></a></h3><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;entity&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.living_room&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;light.bedroom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;substring&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;regex&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.*&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;property&quot;</span><span class="token operator">:</span> <span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;comparator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timeoutUnits&quot;</span><span class="token operator">:</span> <span class="token string">&quot;seconds&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;checkCurrentState&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h4 id="override-with-a-single-entity" tabindex="-1"><a class="header-anchor" href="#override-with-a-single-entity"><span>Override with a Single Entity</span></a></h4><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light.living_room&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h4 id="override-with-a-several-entities" tabindex="-1"><a class="header-anchor" href="#override-with-a-several-entities"><span>Override with a Several Entities</span></a></h4><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.living_room&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;light.bedroom&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h2 id="output" tabindex="-1"><a class="header-anchor" href="#output"><span>Output</span></a></h2><p>Value types:</p><ul><li><code>entity</code>: entity data of the triggered entity. Will be <code>undefined</code> if multiple entities are selected and the timeout occurs.</li><li><code>config</code>: config properties of the node</li></ul>`,25))])}const v=p(d,[["render",m],["__file","wait-until.html.vue"]]),b=JSON.parse('{"path":"/node/wait-until.html","title":"Wait Until","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Configuration","slug":"configuration","link":"#configuration","children":[{"level":3,"title":"Entities","slug":"entities","link":"#entities","children":[]},{"level":3,"title":"Wait Until","slug":"wait-until-1","link":"#wait-until-1","children":[]},{"level":3,"title":"Timeout","slug":"timeout","link":"#timeout","children":[]},{"level":3,"title":"Check against the current state","slug":"check-against-the-current-state","link":"#check-against-the-current-state","children":[]}]},{"level":2,"title":"Input","slug":"input","link":"#input","children":[{"level":3,"title":"reset","slug":"reset","link":"#reset","children":[]},{"level":3,"title":"payload","slug":"payload","link":"#payload","children":[]},{"level":3,"title":"Example","slug":"example","link":"#example","children":[]},{"level":3,"title":"Full Payload","slug":"full-payload","link":"#full-payload","children":[]}]},{"level":2,"title":"Output","slug":"output","link":"#output","children":[]}],"git":{"updatedTime":1723796552000,"contributors":[{"name":"Jason","email":"37859597+zachowj@users.noreply.github.com","commits":11}]},"filePathRelative":"node/wait-until.md"}');export{v as comp,b as data};
